## Tools and Services I Use to Run a <sample> SaaS

Who doesn‚Äôt love a good stack teardown? Ever since I saw [Cushion‚Äôs running costs](https://cushionapp.com/running-costs/) page, I‚Äôve been low key addicted to reading about how other apps are built.

I work on an app called [SongRender](https://songrender.com/) that helps musicians and podcasters make videos for social media. So in the spirit of the teardown, here are the tools and services I use to run it!

### Languages

This isn‚Äôt an exhaustive list ‚Äî I‚Äôve omitted some obvious ones (like HTML) and ones that are implied by other tooling choices (like HCL for Terraform).

- [TypeScript](https://www.typescriptlang.org/) ‚Äî A superset of JavaScript with static types. I fell in love with this language when I first tried it a few years ago, and it‚Äôs only gotten better since then. I use it for both the frontend and server-side code.
- [SCSS](https://sass-lang.com/) ‚Äî A superset of CSS with cool features like mixins and nesting. I use it for both the marketing site and ‚Äî with [CSS modules](https://github.com/css-modules/css-modules) ‚Äî the web app.

### Build Systems and Frameworks

- [React](https://reactjs.org/) ‚Äî The frontend is a single-page app built with React, which has been a great choice ‚Äî it gets out of the way and lets me just work on the app. There might be other frameworks out there that are quote unquote better, but the sheer size of the React community means I basically never run into any uncharted territory.
- [Create React App](https://create-react-app.dev/) ‚Äî A batteries-included build system for React. The first time I made a React app, I cobbled together the configuration for Webpack/Babel/etc myself. Create React App hides all that ‚Äî with the option to ‚Äúeject‚Äù and get the full configuration if I ever need to do something it doesn‚Äôt support.
- [Express](https://expressjs.com/) ‚Äî A Node.js server-side framework. Just like with React, I chose it because it‚Äôs the most popular by far. As for why I chose Node.js rather than another language, it‚Äôs because I need to run the same video rendering code in the browser and on the server.
- [Hugo](https://gohugo.io/) ‚Äî A fast static site generator written, used to build the marketing site.

### Libraries

This list is also not exhaustive, but there are too many libraries to name them all here, so I‚Äôve tried to keep it to the most notable or interesting ones.

- [immer](https://immerjs.github.io/immer/docs/introduction) ‚Äî An intuitive, performant way to do immutability. It can also serialize patches you make to an object, so it‚Äôs fairly easy to implement undo functionality as well.
- [downshift](https://www.downshift-js.com/) ‚Äî A React library for building accessible dropdowns and multi-selects. Easy to style, and you get accessibility for free.
- [popper](https://popper.js.org/) ‚Äî A nifty little tooltip positioning library.
- [node-canvas](https://github.com/Automattic/node-canvas) ‚Äî Node library for using the [canvas API](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API) on the server.
- [ffmpeg](https://www.ffmpeg.org/) ‚Äî Swiss army knife audio and video library. I use this to on the server convert audio files to WAV and to combine individual frames into users' videos.

### Infrastructure

- [Namecheap](https://www.namecheap.com/) ‚Äî Domain name registrar. Don‚Äôt get turned off by the slightly sketchy name ‚Äî they‚Äôre my favorite registrar that I‚Äôve used.
- [Cloudflare](https://www.cloudflare.com/) ‚Äî Provides DNS, SSL termination and DDOS protection for the websites and API.
- [Netlify](https://www.netlify.com/) ‚Äî Hosts static files for the app frontend and marketing site. It‚Äôs really easy to use and there‚Äôs a generous free tier.
- [DigitalOcean](https://www.digitalocean.com/) ‚Äî Cloud infrastructure provider, but with plain Linux servers rather than proprietary services. I use them for servers, databases, and object storage to host users' file uploads and videos. Their web UI and API are both really easy to use; I never want to go back to AWS. [üí∞ Affiliate link](https://m.do.co/c/e506b6f94e20)
- [Postmark](https://postmarkapp.com/) ‚Äî Transactional email provider. I switched from [SendGrid](https://sendgrid.com/) when I exceeded their free tier and couldn‚Äôt get in touch with support, and boy am I glad I did. Postmark‚Äôs delivery rate is better, and the dashboard is faster and easier to use. If you‚Äôre a bootstrapped startup, they‚Äôll give you a [$75 credit](https://postmarkapp.com/for/bootstrapped-startups).

### Databases

- [PostgreSQL](https://www.postgresql.org/) ‚Äî Relational database for persisting the app‚Äôs data. I briefly considered [MySQL](https://www.mysql.com/) as well, but PostgreSQL has a bunch of really nice features like [returning data from modified rows](https://www.postgresql.org/docs/9.5/dml-returning.html). I did not consider non-relational databases like [MongoDB](https://www.mongodb.com/).
- [Redis](https://redis.io/) ‚Äî Key/value store, only used for a task queue. Usually I would put this part off and just build a monolith, but CPU-intensive video rendering needs its own server.
- [InfluxDB](https://www.influxdata.com/) ‚Äî Time-series database for storing metrics. See the section on [monitoring](https://jake.nyc/words/tools-and-services-i-use-to-run-my-saas/#monitoring).

### Servers

- [Ubuntu](https://ubuntu.com/) ‚Äî The Linux distribution that the servers run. Like other parts of the stack, I chose it because it‚Äôs one of the most popular.
- [nginx](https://nginx.org/) ‚Äî A web server and reverse proxy, used here as a load balancer for the API servers.
- [systemd](https://systemd.io/) ‚Äî A daemon that manages the processes on the server, like Node.js and nginx. [pm2](https://pm2.keymetrics.io/) is another popular one, but it‚Äôs Node-specific.

### Deploying

I‚Äôve previously written about how I deploy SongRender, so you can [read about it in more depth](https://jake.nyc/words/bluegreen-deploys-and-immutable-infrastructure-with-terraform/) if you‚Äôre interested. If you just want the high level, these are the tools involved.

- [Terraform](https://www.terraform.io/) ‚Äî An ‚Äúinfrastructure as code‚Äù tool, where you describe the infrastructure you want and it diffs with the infrastructure that actually exists. Kind of like React, but for configuration management. I love Terraform, and I use it to manage any infrastructure it supports.
- [Packer](https://www.packer.io/) ‚Äî A tool for building machine images. This makes it easy to deploy servers with Terraform.

### Monitoring

- [Sentry](https://sentry.io/organizations/songrender/issues/) ‚Äî Error tracking. Picks up any uncaught exceptions in the client- and server-side code.
- [Statuscake](https://www.statuscake.com/) ‚Äî Uptime monitoring, making sure the website and API don‚Äôt go down. Chosen for its generous free tier.
- [Papertrail](https://www.papertrail.com/) ‚Äî Log management. It forwards system log messages using `rsyslog`, so I can just use `console.log` in my server-side code and have it picked up. At some point I might try to switch to a service that supports structured logs, like [Timber](https://timber.io/).
- [Telegraf](https://www.influxdata.com/time-series-platform/telegraf/) ‚Äî Agent that collects metrics from the servers and forwards them to InfluxDB. It makes it very easy to get metrics on CPU/memory/etc without paying an arm and a leg for something like [Datadog](https://www.datadoghq.com/).
- [Grafana](https://grafana.com/) ‚Äî Metrics dashboard that displays data from InfluxDB and PostgreSQL. It‚Äôs easy to set up and use, and its visualizations are pretty.

### Analytics

- [Indicative](https://www.indicative.com/) ‚Äî App analytics. I was using [Mixpanel](https://mixpanel.com/), but I ended up exceeding their free tier ‚Äî which was a shame, because I liked them a lot more. Might check out [Amplitude](https://amplitude.com/) when I have time.
- [Fathom](https://usefathom.com/) ‚Äî Website visitor stats for the marketing page and app. It‚Äôs simpler than Google Analytics and only $15 per month for small sites. [üí∞ Affiliate link](https://usefathom.com/ref/WBX5G9)
- [Google Search console](https://search.google.com/search-console/about) ‚Äî Analytics about Google searches for which SongRender has shown up in the results.

### Payments

- [Stripe](https://stripe.com/) ‚Äî Credit card processing and subscriptions. I **love** using Stripe. Their APIs are so well thought out, the developer tooling is great and their documentation and dashboard are beautiful and easy to use. Their support is also responsive and helpful. I had such a positive experience with them that I registered SongRender LLC with Stripe Atlas, even though it cost a bit more than doing it manually.
- [PayPal](https://www.paypal.com/) ‚Äî Additional payment option. As happy as I am with Stripe, I‚Äôm that unhappy with PayPal: their tooling is lackluster, their documentation is not comprehensive and their website is slow. It‚Äôs also clearly not meant as a payment option for in-app purchases ‚Äî for example, if you‚Äôre a new merchant, they‚Äôll hold payments for a few weeks unless you upload a shipping label, which I obviously can‚Äôt do. People seem to like having it as a payment option, though.
- [Mercury](https://mercury.com/) ‚Äî My business bank. One of the three options Stripe recommended as part of Atlas.

### Design

- [Sketch](https://www.sketch.com/) ‚Äî Vector graphics editor. I designed the SongRender logo using this, and I touch up icons with it too. I tend to go back and forth between this and [Figma](https://www.figma.com/), which I also really like ‚Äî but there‚Äôs still an appeal to using a [native app](https://www.sketch.com/blog/2020/10/26/part-of-your-world-why-we-re-proud-to-build-a-truly-native-mac-app/) that doesn‚Äôt store all my data in the nebulous cloud.
- [Nucleo](https://nucleoapp.com/) ‚Äî Library of SVG icons. I bought the lifetime package years ago and have used it in basically every project since. [üí∞ Affiliate link](https://nucleoapp.com/?ref=427)
- [SVGOMG](https://jakearchibald.github.io/svgomg/) ‚Äî Nifty web app that cleans up and compresses SVGs. It‚Äôs basically a frontend for [SVGO](https://github.com/svg/svgo).
- [squoosh](https://squoosh.app/) ‚Äî Nitfy web app that compresses PNGs and JPGs; the raster image counterpart to SVGOMG.

### Development

- [VS Code](https://code.visualstudio.com/) ‚Äî Not quite a text editor, not quite an IDE. Probably the best Electron app I‚Äôve ever used. I keep checking out [Nova](https://nova.app/) out of a love for all things Panic, but it‚Äôs not quite there yet.
- [Postgres.app](https://postgresapp.com/) ‚Äî Simple free local PostgreSQL server for macOS.
- [dbmate](https://github.com/amacneil/dbmate) ‚Äî Language- and database-agnostic migration tool.
- [Gitlab](https://gitlab.com/) ‚Äî Source code hosting and versioning.
- [Prettier](https://prettier.io/) ‚Äî Code formatter for JavaScript, HTML and CSS. If you‚Äôve never used a code formatter before, do it now. It‚Äôll change your life.
- [Jest](https://jestjs.io/) ‚Äî Test runner for JavaScript. Bundled with Create React App.
- [Yarn](https://yarnpkg.com/) ‚Äî Alternative package manager for Node.
- [Make](https://en.wikipedia.org/wiki/Make_(software)) ‚Äî SongRender doesn‚Äôt need to be compiled, so this is just a task runner. [Self-documenting Makefile snippets](https://www.thapaliya.com/en/writings/well-documented-makefiles/) are super helpful.

### Debugging

- [Postico](https://eggerapps.at/postico/) ‚Äî Great indie Mac app for querying Postgres databases.
- [Insomnia](https://insomnia.rest/) ‚Äî HTTP client. I use this sometimes when I‚Äôm working on the API and don‚Äôt want to worry about the browser. I also use it as a very crude admin dashboard: the API has a few admin endpoints for things like retrying a failed render, which I hit directly from Insomnia. [Paw](https://paw.cloud/) is a non-Electron alternative that I‚Äôll spend the $50 on at some point.
- [Transmit](https://www.panic.com/transmit/) ‚Äî File transfer app. I use this whenever I need to poke around object storage, since it‚Äôs much easier than using DigitalOcean‚Äôs web-based file browser.

### Support

- [Crisp](https://crisp.chat/) ‚Äî In-app support chat. It‚Äôs the slickest, least obtrusive one I could find with a free tier. I‚Äôd like to switch to [Intercom](https://www.intercom.com/) but can‚Äôt justify the cost.

### Organization

- [Trello](https://trello.com/) ‚Äî A kanban board for keeping track of bugs and features. A killer feature for me is the ability to add checklists to cards. Before I deploy a feature, I make an exhaustive checklist of cases to test. I‚Äôve caught so many bugs this way; checklists should be a crucial tool in any developer‚Äôs QA arsenal. [Checklists work](https://blog.nuclino.com/the-simple-genius-of-checklists-from-b-17-to-the-apollo-missions)! [üí∞ Affiliate link](https://trello.com/jakelazaroff/recommend)
- [Notion](https://www.notion.so/) ‚Äî A repository for less structured note-taking.
- [Fastmail](https://www.fastmail.com/) ‚Äî The email provider I use [instead of Gmail](https://jake.nyc/words/giving-up-google). [üí∞ Affiliate link](https://ref.fm/u20086848)

### Marketing

- [Acorn](https://flyingmeat.com/acorn/) ‚Äî Raster image editor. I mostly use it as a lightweight Photoshop alternative when I need to tweak screenshots.
- [iA Writer](https://ia.net/writer) ‚Äî Markdown word processor. I use it to write blog posts.

### Retired

Not every relationship was meant to live forever. These are all the tools that I‚Äôve stopped using for one reason or another.

- [Ansible](https://www.ansible.com/) ‚Äî Provisioning and deployment tool. Replaced by Packer and Terraform.
- [Let‚Äôs Encrypt](https://letsencrypt.org/) ‚Äî Free SSL certificate authority. Replaced by Cloudflare, which does this automatically.
- [Healthchecks](https://healthchecks.io/) ‚Äî Cron job monitor. Replaced by nothing; I refactored away all my cron jobs. This was pretty useful and I‚Äôd sign up again if I needed it.
- [SendGrid](https://sendgrid.com/) ‚Äî A transactional and marketing email service. Replaced by Postmark, which has a faster web UI and better deliverability.
- [Mixpanel](https://mixpanel.com/) ‚Äî Product analytics. Replaced by Indicative when I exceeded their free tier and the next tier up was too expensive.
- [Gandi](https://www.gandi.net/) ‚Äî Domain name registrar. I was a fairly satisfied customer until they followed up a data loss incident (which didn‚Äôt affect me, thankfully) with some of the [worst customer service](https://twitter.com/gandi_net/status/1215280538313019396) I‚Äôve ever seen. Replaced by Namecheap.